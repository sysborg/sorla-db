!function(){return function t(e,n,s){function o(r,c){if(!n[r]){if(!e[r]){var a="function"==typeof require&&require;if(!c&&a)return a(r,!0);if(i)return i(r,!0);var u=new Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}var x=n[r]={exports:{}};e[r][0].call(x.exports,function(t){return o(e[r][1][t]||t)},x,x.exports,t,e,n,s)}return n[r].exports}for(var i="function"==typeof require&&require,r=0;r<s.length;r++)o(s[r]);return o}}()({1:[function(t,e,n){const s=t("../query_language/query.js");e.exports=class extends s{constructor(t){super(t),this._documents=[],this._indexes=[]}}},{"../query_language/query.js":6}],2:[function(t,e,n){const s=t("../collections/collection.js");e.exports=class{constructor(t){return this._collections={},this._name=t,this._collectionCount=0,new Proxy(this,{get:(t,e,n)=>e in t._collections?t._collections[e]:t[e]})}get name(){return this._name}createCollection(t,e){if(this._collections.hasOwnProperty(t)||void 0!==this[t])throw new Error("Collection already exists");this._collections[t]=new s(e),this._collectionCount++}countCollections(){return this._collectionCount}}},{"../collections/collection.js":1}],3:[function(t,e,n){e.exports=class{constructor(t){this._data=t}get _id(){return this._data._id}}},{}],4:[function(t,e,n){},{}],5:[function(t,e,n){const s=t("../documents/document.js");e.exports=class{constructor(t=null){this.validationSchema=t}_generateKey(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}set validationSchema(t){if("undefined"!=typeof schemaValidation&&null!==schemaValidation){if(-1==["object","function"].indexOf(typeof schemaValidation))throw new Error("Invalid schema validation");this._validationSchema=t}}_validate(t){return!0}_validateDocumentsType(t){return t.reduce((t,e)=>"object"!=typeof e?++t:t,0)}insertOne(t,e){if("object"!=typeof t||Array.isArray(t))throw new Error("Invalid document type");if(void 0===t._id){do{this._generateKey()}while(this._documents.find(e=>e._id===t._id));t._id=_idKey}if(!this._validate(t))throw new Error("Invalid document");this._documents.push(new s(t)),"function"==typeof e&&e()}insertMany(t,e){if(console.info(this._validateDocumentsType(t)),!Array.isArray(t)||this._validateDocumentsType(t)>0)throw new Error("Documents must be an array of objects");for(let e of t)this.insertOne(e);"function"==typeof e&&e()}}},{"../documents/document.js":3}],6:[function(t,e,n){const s=t("./manipulation.js");e.exports=class extends s{constructor(t){super(t)}count(){return this._documents.length}}},{"./manipulation.js":5}],7:[function(t,e,n){const s=t("./dbs/database.js");e.exports=class{constructor(){this._dbs=[],this._selectedDb=null}_findDbIndex(t){return this._dbs.findIndex(e=>e.name==t)}dbExists(t){return this._findDbIndex(t)>-1}_selectDb(t){if(!this._dbs.hasOwnProperty(t))throw new Error("Database does not exists");this._selectedDb=this._dbs[t]}createDb(t){if(this.dbExists(t))return!1;let e=this._dbs.length;return this._dbs.push(new s(t)),e}useDb(t){let e=null;this.dbExists(t)||(e=this.createDb(t)),this._selectDb(null===e?this._findDbIndex(t):e)}countDb(){return this._dbs.length}get db(){return this._selectedDb}}},{"./dbs/database.js":2}],8:[function(t,e,n){e.exports=class{get uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})}}},{}]},{},[1,2,3,4,5,6,7,8]);